"use strict";(self["webpackChunkgrow_curriculum"]=self["webpackChunkgrow_curriculum"]||[]).push([[826],{24017:function(e,t,a){a.r(t),a.d(t,{default:function(){return f}});var l=a(66252),n=a(3577),o=a(49963);const i=e=>((0,l.dD)("data-v-90f4a2aa"),e=e(),(0,l.Cn)(),e),u={class:(0,n.C_)(["cute-title","reservation-title"])},s={class:(0,n.C_)(["large-calendar","reservation-calendar"])},r={class:"calendar-menu"},p=["onClick"],d=["onClick"],c={class:(0,n.C_)(["popup-content","reservation-popup-content"])},v=i((()=>(0,l._)("h3",null,"予約",-1))),w=i((()=>(0,l._)("label",{class:(0,n.C_)(["popup-label"]),for:"reservationStartTime"},"開始時間:",-1))),_=i((()=>(0,l._)("label",{class:(0,n.C_)(["popup-label"]),for:"reservationEndTime"},"終了時間:",-1))),m={class:(0,n.C_)(["popup-content","edit-popup-content"])},T=i((()=>(0,l._)("h3",null,"編集",-1))),C=i((()=>(0,l._)("label",{class:(0,n.C_)(["popup-label"]),for:"editStartTime"},"新しい開始時間:",-1))),D=i((()=>(0,l._)("label",{class:(0,n.C_)(["popup-label"]),for:"editEndTime"},"新しい終了時間:",-1)));function b(e,t,a,i,b,g){const y=(0,l.up)("Header"),k=(0,l.up)("Footer");return(0,l.wg)(),(0,l.iD)("div",null,[(0,l.Wm)(y),(0,l._)("div",null,[(0,l._)("h2",u,(0,n.zw)(i.currentMonth)+"月の予定日",1),(0,l._)("table",s,[(0,l._)("thead",null,[(0,l._)("tr",null,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(i.daysOfWeek,(e=>((0,l.wg)(),(0,l.iD)("th",{key:e,class:(0,n.C_)(["day-header"])},(0,n.zw)(e),1)))),128))])]),(0,l._)("tbody",null,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(i.calendar,((e,t)=>((0,l.wg)(),(0,l.iD)("tr",{key:t},[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(e.days,(e=>((0,l.wg)(),(0,l.iD)("td",{key:e.date,class:(0,n.C_)(["calendar-day",{today:i.isToday(e)}])},[(0,l._)("p",null,(0,n.zw)(e.day),1),(0,l._)("p",null,(0,n.zw)(e.startTime)+"~"+(0,n.zw)(e.endTime),1),(0,l._)("div",r,[(0,l._)("p",{onClick:t=>i.showReservationPopup(e),class:"reservation-menu"},"予約",8,p),(0,l._)("p",{onClick:t=>i.showEditPopupWindow(e),class:"edit-menu"},"編集",8,d)])],2)))),128))])))),128))])])]),(0,l.Wm)(k),i.showPopup?((0,l.wg)(),(0,l.iD)("div",{key:0,class:"reservation-popup",onClick:t[4]||(t[4]=(0,o.iM)(((...e)=>i.closeReservationPopup&&i.closeReservationPopup(...e)),["self"]))},[(0,l._)("div",c,[v,(0,l._)("p",null,(0,n.zw)(i.selectedDay.date)+"の予約を設定",1),w,(0,l.wy)((0,l._)("input",{class:(0,n.C_)(["popup-input"]),type:"time",id:"reservationStartTime","onUpdate:modelValue":t[0]||(t[0]=e=>i.reservationStartTime=e)},null,512),[[o.nr,i.reservationStartTime]]),_,(0,l.wy)((0,l._)("input",{class:(0,n.C_)(["popup-input"]),type:"time",id:"reservationEndTime","onUpdate:modelValue":t[1]||(t[1]=e=>i.reservationEndTime=e)},null,512),[[o.nr,i.reservationEndTime]]),(0,l._)("button",{class:(0,n.C_)(["popup-button"]),onClick:t[2]||(t[2]=(...e)=>i.submitReservation&&i.submitReservation(...e))},"予約する"),(0,l._)("button",{class:(0,n.C_)(["popup-button","cancel-button"]),onClick:t[3]||(t[3]=(...e)=>i.cancelReservation&&i.cancelReservation(...e))},"キャンセルする")])])):(0,l.kq)("",!0),i.showEditPopup?((0,l.wg)(),(0,l.iD)("div",{key:1,class:"edit-popup",onClick:t[9]||(t[9]=(0,o.iM)(((...e)=>i.closeEditPopup&&i.closeEditPopup(...e)),["self"]))},[(0,l._)("div",m,[T,(0,l._)("p",null,(0,n.zw)(i.selectedDay.date)+"の予定を編集",1),C,(0,l.wy)((0,l._)("input",{class:(0,n.C_)(["popup-input"]),type:"time",id:"editStartTime","onUpdate:modelValue":t[5]||(t[5]=e=>i.reservationStartTime=e)},null,512),[[o.nr,i.reservationStartTime]]),D,(0,l.wy)((0,l._)("input",{class:(0,n.C_)(["popup-input"]),type:"time",id:"editEndTime","onUpdate:modelValue":t[6]||(t[6]=e=>i.reservationEndTime=e)},null,512),[[o.nr,i.reservationEndTime]]),(0,l._)("button",{class:(0,n.C_)(["popup-button"]),onClick:t[7]||(t[7]=(...e)=>i.submitEdit&&i.submitEdit(...e))},"変更する"),(0,l._)("button",{class:(0,n.C_)(["popup-button","cancel-button"]),onClick:t[8]||(t[8]=(...e)=>i.closeEditPopup&&i.closeEditPopup(...e))},"×")])])):(0,l.kq)("",!0)])}a(57658);var g=a(32381),y=a(40543),k=a(2262),h={name:"ReservationCalendar",components:{Header:g.Z,Footer:y.Z},setup(){const e=(0,k.iH)([]),t=(0,k.iH)(new Date),a=(0,k.iH)(t.value.getUTCFullYear()),n=(0,k.iH)(t.value.getUTCMonth()+1),o=(0,k.iH)(!1),i=(0,k.iH)(null),u=(0,k.iH)(""),s=(0,k.iH)(""),r=e=>{const t=[];for(let a=0;a<7;a++){const l=new Date(e);l.setUTCDate(e.getUTCDate()+a),t.push({day:l.getUTCDate(),date:l.toISOString().split("T")[0],startTime:"18:00",endTime:"22:00"})}return t},p=()=>{const t=new Date(a.value,n.value-1,1),l=new Date(a.value,n.value,0),o=t.getUTCDay(),i=l.getUTCDate();let u=1;const s=[];for(let e=0;e<6;e++){if(u>i)break;if(0===e){const e=new Date(a.value,n.value-1,0),t=e.getUTCDate(),l=t-o+1;s.push({weekStart:new Date(Date.UTC(a.value,n.value-2,l)).toISOString().split("T")[0],weekEnd:new Date(Date.UTC(a.value,n.value-2,t)).toISOString().split("T")[0],days:r(new Date(Date.UTC(a.value,n.value-2,l)))})}else s.push({weekStart:new Date(Date.UTC(a.value,n.value-1,u)).toISOString().split("T")[0],weekEnd:new Date(Date.UTC(a.value,n.value-1,u+6)).toISOString().split("T")[0],days:r(new Date(Date.UTC(a.value,n.value-1,u)))});u+=7}e.value=s},d=e=>{const a=new Date(t.value),l=new Date(e.date);return a.getDate()===l.getDate()&&a.getMonth()===l.getMonth()&&a.getFullYear()===l.getFullYear()},c=(0,l.Fl)((()=>["Sun","Mon","Tue","Wed","Thu","Fri","Sat"])),v=e=>{i.value=e,o.value=!0},w=()=>{o.value=!1,i.value=null,u.value="",s.value=""},_=()=>{w()},m=()=>{w()},T=(0,k.iH)(!1),C=e=>{i.value=e,T.value=!0},D=()=>{T.value=!1,i.value=null},b=()=>{i.value.startTime=u.value,i.value.endTime=s.value,D()};return(0,l.bv)((()=>{p()})),{currentMonth:n,daysOfWeek:c,calendar:e,isToday:d,showPopup:o,selectedDay:i,reservationStartTime:u,reservationEndTime:s,showReservationPopup:v,closeReservationPopup:w,submitReservation:_,cancelReservation:m,showEditPopup:T,showEditPopupWindow:C,closeEditPopup:D,submitEdit:b}}},E=a(83744);const S=(0,E.Z)(h,[["render",b],["__scopeId","data-v-90f4a2aa"]]);var f=S}}]);
//# sourceMappingURL=826.025a5e04.js.map