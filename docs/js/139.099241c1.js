"use strict";(self["webpackChunkgrow_curriculum"]=self["webpackChunkgrow_curriculum"]||[]).push([[139],{8139:function(e,s,n){n.r(s),n.d(s,{default:function(){return b}});var a=n(6252),l=n(9963);const t={class:"loginPage"},o=(0,a._)("div",{class:"welcome-header"},[(0,a._)("a",{href:"/",class:"logo"},"GROW Learning Website")],-1),i={class:"login-container"},r=(0,a._)("div",{class:"login-header"},[(0,a._)("div",null,"Login")],-1),c=(0,a._)("br",null,null,-1),u={class:"login"},d=(0,a._)("br",null,null,-1),h=(0,a._)("br",null,null,-1),p=(0,a._)("p",{class:"btn-back"},[(0,a._)("a",{href:"/"},"＞戻る")],-1);function g(e,s,n,g,m,_){return(0,a.wg)(),(0,a.iD)("div",t,[o,(0,a._)("div",i,[r,c,(0,a._)("div",u,[(0,a.wy)((0,a._)("input",{"onUpdate:modelValue":s[0]||(s[0]=e=>m.email=e),type:"text",placeholder:"メールアドレス",name:"email"},null,512),[[l.nr,m.email]]),d,(0,a.wy)((0,a._)("input",{"onUpdate:modelValue":s[1]||(s[1]=e=>m.password=e),type:"password",placeholder:"パスワード",name:"password"},null,512),[[l.nr,m.password]]),h,(0,a._)("button",{onClick:s[2]||(s[2]=(...e)=>_.login&&_.login(...e))},"ログイン"),p])])])}n(7658);var m=n(6565),_={data(){return{email:"",password:""}},methods:{async login(){const e={email:this.email,password:this.password};try{const s=await m.Z.post("/auth/sign_in",e),n=s.headers["access-token"],a=s.headers["client"],l=s.headers["uid"];n&&a&&l?(this.setCookie("access_token",n),this.setCookie("client",a),this.setCookie("uid",l),this.$router.push({name:"MenuPage"})):alert("ログインエラー: ユーザー名またはパスワードが一致しません")}catch(s){console.error(s),alert("ログインエラーが発生しました")}},setCookie(e,s){const n=7,a=new Date;a.setTime(a.getTime()+24*n*60*60*1e3);const l="expires="+a.toUTCString();document.cookie=e+"="+s+";"+l+";path=/"}}},w=n(3744);const k=(0,w.Z)(_,[["render",g]]);var b=k}}]);
//# sourceMappingURL=139.099241c1.js.map