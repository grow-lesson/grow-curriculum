"use strict";(self["webpackChunkgrow_curriculum"]=self["webpackChunkgrow_curriculum"]||[]).push([[225],{24967:function(e,a,r){r.r(a),r.d(a,{default:function(){return te}});var l=r(66252),s=r(49963),n=r(3577),o=r(49093);const t=e=>((0,l.dD)("data-v-b8b4bdf4"),e=e(),(0,l.Cn)(),e),m={class:"edit"},i={class:"edit-wrap"},d=t((()=>(0,l._)("div",{class:"edit-icon"},[(0,l._)("img",{src:o,alt:""})],-1))),u={class:"edit-content"},f={class:"edit-form username"},c=t((()=>(0,l._)("label",{for:"“username”"},"ユーザー名",-1))),_=t((()=>(0,l._)("br",null,null,-1))),p={class:"edit-errorMessage"},b={class:"edit-form name"},w=t((()=>(0,l._)("label",{for:"“username”"},"名前",-1))),g=t((()=>(0,l._)("br",null,null,-1))),v={class:"edit-errorMessage"},y={class:"edit-form lastName-kana"},h=t((()=>(0,l._)("label",{for:"“username”"},"苗字(カナ)",-1))),N=t((()=>(0,l._)("br",null,null,-1))),P={class:"edit-errorMessage"},k={class:"edit-form firstName-kana"},U=t((()=>(0,l._)("label",{for:"“username”"},"名前(カナ)",-1))),$=t((()=>(0,l._)("br",null,null,-1))),K={class:"edit-errorMessage"},Z={class:"edit-form mail"},x=t((()=>(0,l._)("label",{for:"“mailadress”"},"メールアドレス",-1))),M={class:"edit-errorMessage"},V={class:"edit-form hobby"},C=t((()=>(0,l._)("label",{for:"“hobby”"},"趣味",-1))),z=t((()=>(0,l._)("br",null,null,-1))),q={class:"edit-form language"},S=t((()=>(0,l._)("label",{for:"“language”"},"触れたことがある言語",-1))),F={class:"edit-form bio"},I=t((()=>(0,l._)("label",{for:"“Bio”"},"自己紹介",-1))),H=t((()=>(0,l._)("br",null,null,-1))),R=t((()=>(0,l._)("div",{class:"edit-form password"},[(0,l._)("label",{for:"“password”"},"パスワード"),(0,l._)("p",null,"現在のpass")],-1))),A={class:"edit-form newPassword"},D=t((()=>(0,l._)("label",{for:"“newPassword”"},"新しいパスワード",-1))),O={class:"edit-errorMessage"},T={class:"edit-form newConfirmedPassword"},j=t((()=>(0,l._)("label",{for:"“newConfirmedPassword”"},"確認用パスワード",-1))),E={class:"edit-errorMessage"},W=t((()=>(0,l._)("div",{class:"edit-form image"},[(0,l._)("label",{for:"“image”"},"Icon Image"),(0,l._)("input",{type:"file",name:"image"})],-1))),B=t((()=>(0,l._)("button",{class:"btn edit-btn",type:"submit"},"更新",-1))),G={class:"btn-back"};function J(e,a,r,o,t,J){const L=(0,l.up)("Header"),Q=(0,l.up)("Footer");return(0,l.wg)(),(0,l.iD)("div",null,[(0,l.Wm)(L),(0,l._)("div",m,[(0,l._)("div",i,[d,(0,l._)("div",u,[(0,l._)("form",{action:"",onSubmit:a[10]||(a[10]=(...e)=>o.onSubmit&&o.onSubmit(...e))},[(0,l._)("div",f,[c,(0,l.wy)((0,l._)("input",{type:"text",name:"username","onUpdate:modelValue":a[0]||(a[0]=e=>o.username=e)},null,512),[[s.nr,o.username]]),_]),(0,l._)("p",p,(0,n.zw)(o.errors["form.username"]),1),(0,l._)("div",b,[w,(0,l.wy)((0,l._)("input",{type:"text",name:"name","onUpdate:modelValue":a[1]||(a[1]=e=>o.name=e)},null,512),[[s.nr,o.name]]),g]),(0,l._)("p",v,(0,n.zw)(o.errors["form.name"]),1),(0,l._)("div",y,[h,(0,l.wy)((0,l._)("input",{type:"text",name:"lastName-kana","onUpdate:modelValue":a[2]||(a[2]=e=>o.lastNameKana=e)},null,512),[[s.nr,o.lastNameKana]]),N]),(0,l._)("p",P,(0,n.zw)(o.errors["form.lastNameKana"]),1),(0,l._)("div",k,[U,(0,l.wy)((0,l._)("input",{type:"text",name:"firstName-kana","onUpdate:modelValue":a[3]||(a[3]=e=>o.firstNameKana=e)},null,512),[[s.nr,o.firstNameKana]]),$]),(0,l._)("p",K,(0,n.zw)(o.errors["form.firstNameKana"]),1),(0,l._)("div",Z,[x,(0,l.wy)((0,l._)("input",{type:"text",name:"mail","onUpdate:modelValue":a[4]||(a[4]=e=>o.email=e)},null,512),[[s.nr,o.email]])]),(0,l._)("p",M,(0,n.zw)(o.errors["form.email"]),1),(0,l._)("div",V,[C,(0,l.wy)((0,l._)("input",{type:"text",name:"hobby","onUpdate:modelValue":a[5]||(a[5]=e=>o.login.hobbies=e)},null,512),[[s.nr,o.login.hobbies]]),z]),(0,l._)("div",q,[S,(0,l.wy)((0,l._)("input",{type:"text",name:"language","onUpdate:modelValue":a[6]||(a[6]=e=>o.login.languages=e)},null,512),[[s.nr,o.login.languages]])]),(0,l._)("div",F,[I,(0,l.wy)((0,l._)("textarea",{type:"text","onUpdate:modelValue":a[7]||(a[7]=e=>o.login.bio=e),name:"bio"},null,512),[[s.nr,o.login.bio]]),H]),R,(0,l._)("div",A,[D,(0,l.wy)((0,l._)("input",{type:"password",name:"newPassword","onUpdate:modelValue":a[8]||(a[8]=e=>o.password=e)},null,512),[[s.nr,o.password]])]),(0,l._)("p",O,(0,n.zw)(o.errors["form.password"]),1),(0,l._)("div",T,[j,(0,l.wy)((0,l._)("input",{type:"password",name:"newConfirmedPassword","onUpdate:modelValue":a[9]||(a[9]=e=>o.confirmedPassword=e)},null,512),[[s.nr,o.confirmedPassword]])]),(0,l._)("p",E,(0,n.zw)(o.errors["form.confirmedPassword"]),1),W,B],32),(0,l._)("p",G,[(0,l._)("a",{onClick:a[11]||(a[11]=(...e)=>o.goToMyPage&&o.goToMyPage(...e))},"＞戻る")])])])]),(0,l.Wm)(Q)])}r(57658);var L=r(43833),Q=r(66187),X=r(33907),Y=r(12954),ee=r(32387),ae=r(16310),re=r(56565),le=r(22201),se={components:{Header:L.Z,Footer:Q.Z},setup(){const e=(0,X.oR)(),a=(0,l.Fl)((()=>e.state.user.loginData)),r=(0,le.tv)(),s=()=>{r.push({name:"MyPage"})};(0,ae.i_)({mixed:{defalut:"不正な値です。",required:({label:e})=>`${e}は必須の項目です`,oneOf:({label:e})=>`${e}はパスワードと一致しません`},string:{email:({label:e})=>`${e}の形式ではありません`,matches:({label:e})=>`${e}はカタカナのみで入力して下さい`,max:({label:e})=>`${e}を更新する場合は30文字以下で入力してください`,min:({label:e})=>`${e}を更新する場合は7文字以上で入力してください`}}),Object.keys(ee.ZP).forEach((e=>{(0,Y.aH)(e,ee.ZP[e])}));const n=/^[\u30A1-\u30FA\u30FCｦ-ﾝ]+$/u,o=/^[a-zA-Z0-9!@#$%^&*()_+{}[\]:;<>,.?~\\/-]+$/,t=(0,ae.Ry)({form:(0,ae.Ry)({username:(0,ae.Z_)().required().label("ユーザーネーム"),name:(0,ae.Z_)().required().label("名前"),lastNameKana:(0,ae.Z_)().required().matches(n).label("苗字(カナ)"),firstNameKana:(0,ae.Z_)().required().matches(n).label("名前(カナ)"),email:(0,ae.Z_)().required().email().label("メールアドレス"),password:(0,ae.Z_)().label("パスワード").test("is-valid-length","7文字以上30文字以下で入力してください",(e=>null===e||void 0===e||0===e.length||e.length>=7&&e.length<=30)).test("matches-pattern","記号を含む半角英数、数字のみ使用可能です",(e=>null===e||void 0===e||0===e.length||o.test(e))),confirmedPassword:(0,ae.Z_)().oneOf([ae.iH("password"),void 0]).label("確認用パスワード")})}),{errors:m,handleSubmit:i}=(0,Y.cI)({validationSchema:t,initialValues:{form:{username:a.value.username,name:a.value.name,lastNameKana:a.value.last_name_kana,firstNameKana:a.value.first_name_kana,email:a.value.email,password:"",confirmedPassword:""}}}),{value:d}=(0,Y.U$)("form.username"),{value:u}=(0,Y.U$)("form.name"),{value:f}=(0,Y.U$)("form.lastNameKana"),{value:c}=(0,Y.U$)("form.firstNameKana"),{value:_}=(0,Y.U$)("form.email"),{value:p}=(0,Y.U$)("form.password"),{value:b}=(0,Y.U$)("form.confirmedPassword"),w=i((async e=>{const a={username:e.form.username,name:e.form.name,last_name_kana:e.form.lastNameKana,first_name_kana:e.form.firstNameKana,email:e.form.email,hobbies:e.form.hobbies,language:e.form.language,bio:e.form.bio};""!=e.form.password&&(a.password=e.form.password,a.password_confirmation=e.form.confirmedPassword);const r=o("access-token"),l=o("client"),n=decodeURIComponent(o("uid"));function o(e){const a=`; ${document.cookie}`,r=a.split(`; ${e}=`);if(2===r.length)return r.pop().split(";").shift()}re.Z.put("/auth",a,{headers:{"access-token":r,client:l,uid:n},withCredentials:!0}).then((e=>{if(200===e.data.status)return alert("マイページの更新が完了しました"),s();throw new Error("マイページの更新エラーが発生しました")})).catch((e=>{console.error(e),alert("マイページの更新エラーが発生しました")}))}));return{login:a,username:d,name:u,lastNameKana:f,firstNameKana:c,email:_,password:p,confirmedPassword:b,errors:m,onSubmit:w,goToMyPage:s}}},ne=r(83744);const oe=(0,ne.Z)(se,[["render",J],["__scopeId","data-v-b8b4bdf4"]]);var te=oe},49093:function(e,a,r){e.exports=r.p+"img/dog.220e8731.jpg"}}]);
<<<<<<<< HEAD:docs/js/225.07592a71.js
//# sourceMappingURL=225.07592a71.js.map
========
//# sourceMappingURL=225.c39d0799.js.map
>>>>>>>> 295c392d0b0c7ca09ef63ba3b58f607ae89ca61f:docs/js/225.c39d0799.js
