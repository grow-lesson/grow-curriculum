"use strict";(self["webpackChunkgrow_curriculum"]=self["webpackChunkgrow_curriculum"]||[]).push([[5897],{75897:function(a,e,s){s.r(e),s.d(e,{default:function(){return A}});var r=s(66252),n=s(49963),l=s(3577);const i={class:"signup-page"},o=(0,r._)("div",{class:"signup-header"},[(0,r._)("p",{class:"signup-title"},"GROW Learning Website")],-1),t={class:"signup-container"},u=(0,r._)("div",{class:"signup-text"},[(0,r._)("div",null,"Sign up")],-1),d=(0,r._)("br",null,null,-1),m={class:"signup"},p=(0,r._)("br",null,null,-1),c={class:"signup-errorMessage"},f={class:"signup-name"},w=(0,r._)("br",null,null,-1),_=(0,r._)("br",null,null,-1),v={class:"signup-errorMessage"},g={class:"signup-errorMessage"},N={class:"signup-name-kana"},y=(0,r._)("br",null,null,-1),b=(0,r._)("br",null,null,-1),h={class:"signup-errorMessage"},P={class:"signup-errorMessage"},K=(0,r._)("br",null,null,-1),Z={class:"signup-errorMessage"},k=(0,r._)("br",null,null,-1),F={class:"signup-errorMessage"},L=(0,r._)("br",null,null,-1),z={class:"signup-errorMessage"},q=["disabled"],x={class:"btn-back"};function I(a,e,s,I,M,U){const V=(0,r.up)("Spinner");return(0,r.wg)(),(0,r.iD)("div",i,[o,(0,r._)("div",t,[u,d,(0,r._)("div",m,[(0,r._)("form",{onSubmit:e[16]||(e[16]=(0,n.iM)(((...a)=>I.onSubmit&&I.onSubmit(...a)),["prevent"]))},[(0,r.wy)((0,r._)("input",{"onUpdate:modelValue":e[0]||(e[0]=a=>I.form.username=a),onInput:e[1]||(e[1]=a=>I.validateField("username")),type:"text",placeholder:"ユーザー名",name:"username"},null,544),[[n.nr,I.form.username]]),p,(0,r._)("p",c,(0,l.zw)(I.errors.username),1),(0,r._)("div",f,[(0,r.wy)((0,r._)("input",{"onUpdate:modelValue":e[2]||(e[2]=a=>I.form.lastName=a),onInput:e[3]||(e[3]=a=>I.validateField("lastName")),type:"text",placeholder:"姓",name:"lastName"},null,544),[[n.nr,I.form.lastName]]),w,(0,r.wy)((0,r._)("input",{"onUpdate:modelValue":e[4]||(e[4]=a=>I.form.firstName=a),onInput:e[5]||(e[5]=a=>I.validateField("firstName")),type:"text",placeholder:"名",name:"firstName"},null,544),[[n.nr,I.form.firstName]]),_]),(0,r._)("p",v,(0,l.zw)(I.errors.lastName),1),(0,r._)("p",g,(0,l.zw)(I.errors.firstName),1),(0,r._)("div",N,[(0,r.wy)((0,r._)("input",{"onUpdate:modelValue":e[6]||(e[6]=a=>I.form.lastNameKana=a),onInput:e[7]||(e[7]=a=>I.validateField("lastNameKana")),type:"text",placeholder:"姓(カナ)",name:"lastNameKana"},null,544),[[n.nr,I.form.lastNameKana]]),y,(0,r.wy)((0,r._)("input",{"onUpdate:modelValue":e[8]||(e[8]=a=>I.form.firstNameKana=a),onInput:e[9]||(e[9]=a=>I.validateField("firstNameKana")),type:"text",placeholder:"名(カナ)",name:"firstNameKana"},null,544),[[n.nr,I.form.firstNameKana]]),b]),(0,r._)("p",h,(0,l.zw)(I.errors.lastNameKana),1),(0,r._)("p",P,(0,l.zw)(I.errors.firstNameKana),1),(0,r.wy)((0,r._)("input",{"onUpdate:modelValue":e[10]||(e[10]=a=>I.form.email=a),onInput:e[11]||(e[11]=a=>I.validateField("email")),type:"text",placeholder:"メールアドレス",name:"email"},null,544),[[n.nr,I.form.email]]),K,(0,r._)("p",Z,(0,l.zw)(I.errors.email),1),(0,r.wy)((0,r._)("input",{"onUpdate:modelValue":e[12]||(e[12]=a=>I.form.password=a),onInput:e[13]||(e[13]=a=>I.validateField("password")),type:"password",placeholder:"パスワード",name:"password"},null,544),[[n.nr,I.form.password]]),k,(0,r._)("p",F,(0,l.zw)(I.errors.password),1),(0,r.wy)((0,r._)("input",{"onUpdate:modelValue":e[14]||(e[14]=a=>I.form.confirmedPassword=a),onInput:e[15]||(e[15]=a=>I.validateField("confirmedPassword")),type:"password",placeholder:"確認用パスワード",name:"confirmedPassword"},null,544),[[n.nr,I.form.confirmedPassword]]),L,(0,r._)("p",z,(0,l.zw)(I.errors.confirmedPassword),1),(0,r._)("button",{type:"submit",disabled:I.isLoading},(0,l.zw)(I.isLoading?"登録中...":"新規登録"),9,q)],32),(0,r._)("p",x,[(0,r._)("a",{onClick:e[17]||(e[17]=(...a)=>I.goToWelcomePage&&I.goToWelcomePage(...a))},"＞戻る")])])]),(0,r.Wm)(V,{isLoading:I.isLoading},null,8,["isLoading"])])}s(57658);var M=s(2262),U=s(16310),V=s(56565),S=s(22201),W=s(66801),C={components:{Spinner:W.Z},setup(){const a=(0,S.tv)(),e=(0,M.iH)({username:"",lastName:"",firstName:"",lastNameKana:"",firstNameKana:"",email:"",password:"",confirmedPassword:""}),s=(0,M.iH)({username:"",lastName:"",firstName:"",lastNameKana:"",firstNameKana:"",email:"",password:"",confirmedPassword:""}),n=(0,M.iH)(!1),l=/^[\u30A1-\u30FA\u30FCｦ-ﾝ]+$/u,i=/^[a-zA-Z0-9!@#$%^&*()_+{}[\]:;<>,.?~\\/-]+$/,o=U.Ry({username:U.Z_().required("ユーザーネームは必須の項目です"),lastName:U.Z_().required("苗字は必須の項目です"),firstName:U.Z_().required("名前は必須の項目です"),lastNameKana:U.Z_().required("苗字(カナ)は必須の項目です").matches(l,"苗字(カナ)はカタカナのみで入力して下さい"),firstNameKana:U.Z_().required("名前(カナ)は必須の項目です").matches(l,"名前(カナ)はカタカナのみで入力して下さい"),email:U.Z_().required("メールアドレスは必須の項目です").email("メールアドレスの形式ではありません"),password:U.Z_().required("パスワードは必須の項目です").min(7,"パスワードは7文字以上で入力してください").max(30,"パスワードは30文字以下で入力してください").matches(i,"記号を含む半角英数、数字のみ使用可能です"),confirmedPassword:U.Z_().required("確認用パスワードは必須の項目です").oneOf([U.iH("password"),null],"確認用パスワードはパスワードと一致しません")}),t=async a=>{try{await U.ct(o,a).validate(e.value[a]),s.value[a]=""}catch(r){s.value[a]=r.message}"password"!==a&&"confirmedPassword"!==a||(e.value.password===e.value.confirmedPassword?s.value.confirmedPassword="":s.value.confirmedPassword="確認用パスワードはパスワードと一致しません")};(0,r.YP)([()=>e.value.password,()=>e.value.confirmedPassword],(()=>{e.value.password===e.value.confirmedPassword?s.value.confirmedPassword="":s.value.confirmedPassword="確認用パスワードはパスワードと一致しません"}),{immediate:!0});const u=async()=>{n.value=!0;try{await o.validate(e.value,{abortEarly:!1});const s={username:e.value.username,name:e.value.lastName+e.value.firstName,last_name_kana:e.value.lastNameKana,first_name_kana:e.value.firstNameKana,email:e.value.email,password:e.value.password},r=await V.Z.post("/auth",s,{withCredentials:!0});if(201!==r.data.status)throw new Error("登録エラーが発生しました");alert("新規登録が完了しました"),a.push({name:"Login"})}catch(r){r.inner&&r.inner.forEach((a=>{s.value[a.path]=a.message}))}finally{n.value=!1}},d=()=>{a.push({name:"Welcome"})};return{form:e,errors:s,isLoading:n,onSubmit:u,goToWelcomePage:d,validateField:t}}},H=s(83744);const D=(0,H.Z)(C,[["render",I]]);var A=D},66801:function(a,e,s){s.d(e,{Z:function(){return p}});var r=s(66252);const n=a=>((0,r.dD)("data-v-66e9c951"),a=a(),(0,r.Cn)(),a),l={key:0,class:"spinner-container"},i=n((()=>(0,r._)("h1",{class:"spinner-text"},"Loading...",-1))),o={class:"spectrum-bars"};function t(a,e,s,n,t,u){return s.isLoading?((0,r.wg)(),(0,r.iD)("div",l,[i,(0,r._)("div",o,[((0,r.wg)(),(0,r.iD)(r.HY,null,(0,r.Ko)(5,(a=>(0,r._)("div",{class:"bar",key:a}))),64))])])):(0,r.kq)("",!0)}var u={props:{isLoading:{type:Boolean,default:!1}}},d=s(83744);const m=(0,d.Z)(u,[["render",t],["__scopeId","data-v-66e9c951"]]);var p=m}}]);
//# sourceMappingURL=5897.54a67d5a.js.map