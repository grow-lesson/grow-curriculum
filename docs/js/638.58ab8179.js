"use strict";(self["webpackChunkgrow_curriculum"]=self["webpackChunkgrow_curriculum"]||[]).push([[638],{4638:function(e,n,s){s.r(n),s.d(n,{default:function(){return b}});var t=s(6252),a=s(9963);const o={class:"loginPage"},l=(0,t._)("div",{class:"welcome-header"},[(0,t._)("a",{href:"/",class:"logo"},"GROW Learning Website")],-1),i={class:"login-container"},r=(0,t._)("div",{class:"login-header"},[(0,t._)("div",null,"Login")],-1),c=(0,t._)("br",null,null,-1),u={class:"login"},d=(0,t._)("br",null,null,-1),p=(0,t._)("br",null,null,-1),h=(0,t._)("p",{class:"btn-back"},[(0,t._)("a",{href:"/"},"＞戻る")],-1);function m(e,n,s,m,_,g){return(0,t.wg)(),(0,t.iD)("div",o,[l,(0,t._)("div",i,[r,c,(0,t._)("div",u,[(0,t.wy)((0,t._)("input",{"onUpdate:modelValue":n[0]||(n[0]=e=>_.email=e),type:"text",placeholder:"メールアドレス",name:"email"},null,512),[[a.nr,_.email]]),d,(0,t.wy)((0,t._)("input",{"onUpdate:modelValue":n[1]||(n[1]=e=>_.password=e),type:"password",placeholder:"パスワード",name:"password"},null,512),[[a.nr,_.password]]),p,(0,t._)("button",{onClick:n[2]||(n[2]=(...e)=>g.login&&g.login(...e))},"ログイン"),h])])])}s(7658);var _=s(6565),g={data(){return{email:"",password:""}},methods:{async login(){const e={email:this.email,password:this.password};try{const n=await _.Z.post("/auth/sign_in",e);this.setCookie("access_token",n.data.access_token),this.setCookie("client",n.headers.client),this.setCookie("uid",n.headers.uid),this.$router.push({name:"MenuPage"})}catch(n){console.error(n),alert("ログインエラーが発生しました")}},setCookie(e,n){const s=7,t=new Date;t.setTime(t.getTime()+24*s*60*60*1e3);const a="expires="+t.toUTCString(),o=encodeURIComponent(n);document.cookie=`${e}=${o};${a};path=/;secure;SameSite=strict`}}},w=s(3744);const k=(0,w.Z)(g,[["render",m]]);var b=k}}]);
//# sourceMappingURL=638.58ab8179.js.map