{"version":3,"file":"js/609.d99fa72b.js","mappings":"wNACOA,MAAM,e,GACJA,MAAM,iB,GAGNA,MAAM,oB,GACTC,EAAAA,EAAAA,GAEM,OAFDD,MAAM,eAAa,EACtBC,EAAAA,EAAAA,GAAkB,WAAb,aAAO,G,GAEdA,EAAAA,EAAAA,GAAI,mB,GACCD,MAAM,U,GAE2GC,EAAAA,EAAAA,GAAI,mB,GACnHD,MAAM,uB,GACJA,MAAM,e,GACqGC,EAAAA,EAAAA,GAAI,mB,GACDA,EAAAA,EAAAA,GAAI,mB,GAEpHD,MAAM,uB,GACNA,MAAM,uB,GACJA,MAAM,oB,GACqHC,EAAAA,EAAAA,GAAI,mB,GACDA,EAAAA,EAAAA,GAAI,mB,GAEpID,MAAM,uB,GACNA,MAAM,uB,GACkGC,EAAAA,EAAAA,GAAI,mB,GAC5GD,MAAM,uB,GAC6GC,EAAAA,EAAAA,GAAI,mB,GACvHD,MAAM,uB,GAC2IC,EAAAA,EAAAA,GAAI,mB,GACrJD,MAAM,uB,GACTC,EAAAA,EAAAA,GAAmC,UAA3BC,KAAK,UAAS,QAAI,G,GAEzBF,MAAM,Y,0CAjCfG,EAAAA,EAAAA,IAoCM,MApCNC,EAoCM,EAnCJH,EAAAA,EAAAA,GAEM,MAFNI,EAEM,EADJJ,EAAAA,EAAAA,GAAkE,KAA9DK,QAAKC,EAAA,KAAAA,EAAA,OAAAC,IAAEC,EAAAC,iBAAAD,EAAAC,mBAAAF,IAAiBR,MAAM,QAAO,4BAE3CC,EAAAA,EAAAA,GA+BM,MA/BNU,EA+BM,CA9BJC,EAGAC,GACAZ,EAAAA,EAAAA,GAyBM,MAzBNa,EAyBM,EAxBJb,EAAAA,EAAAA,GAsBO,QAtBAc,SAAMR,EAAA,MAAAA,EAAA,KAAAS,EAAAA,EAAAA,KAAA,IAAAR,IAAUC,EAAAM,UAAAN,EAAAM,YAAAP,IAAQ,e,WAC7BP,EAAAA,EAAAA,GAAkH,S,qCAAlGQ,EAAAQ,KAAKC,SAAQC,GAAGC,QAAKb,EAAA,KAAAA,EAAA,GAAAY,GAAEV,EAAAY,cAAc,aAAanB,KAAK,OAAOoB,YAAY,QAAQC,KAAK,Y,iBAAvFd,EAAAQ,KAAKC,YAA6FM,GAClHvB,EAAAA,EAAAA,GAAwD,IAAxDwB,GAAwDC,EAAAA,EAAAA,IAAtBjB,EAAAkB,OAAOT,UAAQ,IACjDjB,EAAAA,EAAAA,GAGM,MAHN2B,EAGM,WAFJ3B,EAAAA,EAAAA,GAA8G,S,qCAA9FQ,EAAAQ,KAAKY,SAAQV,GAAGC,QAAKb,EAAA,KAAAA,EAAA,GAAAY,GAAEV,EAAAY,cAAc,aAAanB,KAAK,OAAOoB,YAAY,IAAIC,KAAK,Y,iBAAnFd,EAAAQ,KAAKY,YAAyFC,GAAI,SAClH7B,EAAAA,EAAAA,GAAiH,S,qCAAjGQ,EAAAQ,KAAKc,UAASZ,GAAGC,QAAKb,EAAA,KAAAA,EAAA,GAAAY,GAAEV,EAAAY,cAAc,cAAcnB,KAAK,OAAOoB,YAAY,IAAIC,KAAK,a,iBAArFd,EAAAQ,KAAKc,aAA4FC,KAEnH/B,EAAAA,EAAAA,GAAwD,IAAxDgC,GAAwDP,EAAAA,EAAAA,IAAtBjB,EAAAkB,OAAOE,UAAQ,IACjD5B,EAAAA,EAAAA,GAAyD,IAAzDiC,GAAyDR,EAAAA,EAAAA,IAAvBjB,EAAAkB,OAAOI,WAAS,IAClD9B,EAAAA,EAAAA,GAGM,MAHNkC,EAGM,WAFJlC,EAAAA,EAAAA,GAA8H,S,qCAA9GQ,EAAAQ,KAAKmB,aAAYjB,GAAGC,QAAKb,EAAA,KAAAA,EAAA,GAAAY,GAAEV,EAAAY,cAAc,iBAAiBnB,KAAK,OAAOoB,YAAY,QAAQC,KAAK,gB,iBAA/Fd,EAAAQ,KAAKmB,gBAAyGC,GAAI,SAClIpC,EAAAA,EAAAA,GAAiI,S,qCAAjHQ,EAAAQ,KAAKqB,cAAanB,GAAGC,QAAKb,EAAA,MAAAA,EAAA,IAAAY,GAAEV,EAAAY,cAAc,kBAAkBnB,KAAK,OAAOoB,YAAY,QAAQC,KAAK,iB,iBAAjGd,EAAAQ,KAAKqB,iBAA4GC,KAEnItC,EAAAA,EAAAA,GAA4D,IAA5DuC,GAA4Dd,EAAAA,EAAAA,IAA1BjB,EAAAkB,OAAOS,cAAY,IACrDnC,EAAAA,EAAAA,GAA6D,IAA7DwC,GAA6Df,EAAAA,EAAAA,IAA3BjB,EAAAkB,OAAOW,eAAa,aACtDrC,EAAAA,EAAAA,GAA2G,S,uCAA3FQ,EAAAQ,KAAKyB,MAAKvB,GAAGC,QAAKb,EAAA,MAAAA,EAAA,IAAAY,GAAEV,EAAAY,cAAc,UAAUnB,KAAK,OAAOoB,YAAY,UAAUC,KAAK,S,iBAAnFd,EAAAQ,KAAKyB,SAAsFC,GAC3G1C,EAAAA,EAAAA,GAAqD,IAArD2C,GAAqDlB,EAAAA,EAAAA,IAAnBjB,EAAAkB,OAAOe,OAAK,aAC9CzC,EAAAA,EAAAA,GAAsH,S,uCAAtGQ,EAAAQ,KAAK4B,SAAQ1B,GAAGC,QAAKb,EAAA,MAAAA,EAAA,IAAAY,GAAEV,EAAAY,cAAc,aAAanB,KAAK,WAAWoB,YAAY,QAAQC,KAAK,Y,iBAA3Fd,EAAAQ,KAAK4B,YAAiGC,GACtH7C,EAAAA,EAAAA,GAAwD,IAAxD8C,GAAwDrB,EAAAA,EAAAA,IAAtBjB,EAAAkB,OAAOkB,UAAQ,aACjD5C,EAAAA,EAAAA,GAAoJ,S,uCAApIQ,EAAAQ,KAAK+B,kBAAiB7B,GAAGC,QAAKb,EAAA,MAAAA,EAAA,IAAAY,GAAEV,EAAAY,cAAc,sBAAsBnB,KAAK,WAAWoB,YAAY,WAAWC,KAAK,qB,iBAAhHd,EAAAQ,KAAK+B,qBAA+HC,GACpJhD,EAAAA,EAAAA,GAAiE,IAAjEiD,GAAiExB,EAAAA,EAAAA,IAA/BjB,EAAAkB,OAAOqB,mBAAiB,GAC1DG,GAAmC,KAErClD,EAAAA,EAAAA,GAA2D,IAA3DmD,EAA2D,EAAvCnD,EAAAA,EAAAA,GAAmC,KAA/BK,QAAKC,EAAA,MAAAA,EAAA,QAAAC,IAAEC,EAAAC,iBAAAD,EAAAC,mBAAAF,KAAiB,c,yDAYxD,GACE6C,KAAAA,GACE,MAAMC,GAASC,EAAAA,EAAAA,MAETtC,GAAOuC,EAAAA,EAAAA,IAAI,CACftC,SAAU,GACVW,SAAU,GACVE,UAAW,GACXK,aAAc,GACdE,cAAe,GACfI,MAAO,GACPG,SAAU,GACVG,kBAAmB,KAGfrB,GAAS6B,EAAAA,EAAAA,IAAI,CACjBtC,SAAU,GACVW,SAAU,GACVE,UAAW,GACXK,aAAc,GACdE,cAAe,GACfI,MAAO,GACPG,SAAU,GACVG,kBAAmB,KAGfS,EAAc,+BACdC,EAAkB,8CAElBC,EAASC,EAAAA,GAAW,CACxB1C,SAAU0C,EAAAA,KAAaC,SAAS,mBAChChC,SAAU+B,EAAAA,KAAaC,SAAS,cAChC9B,UAAW6B,EAAAA,KAAaC,SAAS,cACjCzB,aAAcwB,EAAAA,KAAaC,SAAS,kBAAkBC,QAAQL,EAAa,yBAC3EnB,cAAesB,EAAAA,KAAaC,SAAS,kBAAkBC,QAAQL,EAAa,yBAC5Ef,MAAOkB,EAAAA,KAAaC,SAAS,mBAAmBnB,MAAM,qBACtDG,SAAUe,EAAAA,KAAaC,SAAS,iBAAiBE,IAAI,EAAG,wBAAwBC,IAAI,GAAI,yBACrFF,QAAQJ,EAAiB,wBAC5BV,kBAAmBY,EAAAA,KAAaC,SAAS,oBAAoBI,MAAM,CAACL,EAAAA,GAAQ,YAAa,MAAO,2BAG5FvC,EAAgB6C,UACpB,UACQN,EAAAA,GAAUD,EAAQQ,GAAOC,SAASnD,EAAKoD,MAAMF,IACnDxC,EAAO0C,MAAMF,GAAS,EACxB,CAAE,MAAOG,GACP3C,EAAO0C,MAAMF,GAASG,EAAEC,OAC1B,GAGI7D,EAAkBA,KACtB4C,EAAOkB,KAAK,CAAEjD,KAAM,WAAY,EAG5BR,EAAWmD,UACf,UACQP,EAAOS,SAASnD,EAAKoD,MAAO,CAAEI,YAAY,IAChD,MAAMC,EAAY,CAChBxD,SAAUD,EAAKoD,MAAMnD,SACrBK,KAAMN,EAAKoD,MAAMxC,SAAWZ,EAAKoD,MAAMtC,UACvC4C,eAAgB1D,EAAKoD,MAAMjC,aAC3BwC,gBAAiB3D,EAAKoD,MAAM/B,cAC5BI,MAAOzB,EAAKoD,MAAM3B,MAClBG,SAAU5B,EAAKoD,MAAMxB,UAGvBgC,EAAAA,EAAIC,KAAK,QAASJ,EAAW,CAAEK,iBAAiB,IAC7CC,MAAKC,IACJ,GAA6B,MAAzBA,EAASC,KAAKC,OAIhB,MAAM,IAAIC,MAAM,gBAHhBC,MAAM,eACN/B,EAAOkB,KAAK,CAAEjD,KAAM,SAGtB,IAED+D,OAAMC,IACLC,QAAQD,MAAMA,GACdF,MAAM,eAAe,GAE3B,CAAE,MAAOI,GACPA,EAAIC,MAAMC,SAAQrB,IAChB3C,EAAO0C,MAAMC,EAAEsB,MAAQtB,EAAEC,OAAO,GAEpC,GAWF,OARAsB,EAAAA,EAAAA,IAAM5E,GAAM,CAAC6E,EAAQC,KACnB,IAAK,IAAIC,KAAOF,EACVA,EAAOE,KAASD,EAAOC,IACzB3E,EAAc2E,EAElB,GACC,CAAEC,MAAM,IAEJ,CACLhF,OACAU,SACAZ,WACAL,kBACAW,gBAEJ,G,WC5IF,MAAM6E,GAA2B,OAAgB,EAAQ,CAAC,CAAC,SAASC,KAEpE,O","sources":["webpack://grow-curriculum/./src/components/SignUpPage.vue","webpack://grow-curriculum/./src/components/SignUpPage.vue?5248"],"sourcesContent":["<template>\n  <div class=\"signup-page\">\n    <div class=\"signup-header\">\n      <a @click=\"goToWelcomePage\" class=\"logo\">GROW Learning Website</a>\n    </div>\n    <div class=\"signup-container\">\n      <div class=\"signup-text\">\n        <div>Sign up</div>\n      </div>\n      <br>\n      <div class=\"signup\">\n        <form @submit.prevent=\"onSubmit\">\n          <input v-model=\"form.username\" @input=\"validateField('username')\" type=\"text\" placeholder=\"ユーザー名\" name=\"username\"><br>\n          <p class=\"signup-errorMessage\">{{ errors.username }}</p>\n          <div class=\"signup-name\">\n            <input v-model=\"form.lastName\" @input=\"validateField('lastName')\" type=\"text\" placeholder=\"姓\" name=\"lastName\"><br>\n            <input v-model=\"form.firstName\" @input=\"validateField('firstName')\" type=\"text\" placeholder=\"名\" name=\"firstName\"><br>\n          </div>\n          <p class=\"signup-errorMessage\">{{ errors.lastName }}</p>\n          <p class=\"signup-errorMessage\">{{ errors.firstName }}</p>\n          <div class=\"signup-name-kana\">\n            <input v-model=\"form.lastNameKana\" @input=\"validateField('lastNameKana')\" type=\"text\" placeholder=\"姓(カナ)\" name=\"lastNameKana\"><br>\n            <input v-model=\"form.firstNameKana\" @input=\"validateField('firstNameKana')\" type=\"text\" placeholder=\"名(カナ)\" name=\"firstNameKana\"><br>\n          </div>\n          <p class=\"signup-errorMessage\">{{ errors.lastNameKana }}</p>\n          <p class=\"signup-errorMessage\">{{ errors.firstNameKana }}</p>\n          <input v-model=\"form.email\" @input=\"validateField('email')\" type=\"text\" placeholder=\"メールアドレス\" name=\"email\"><br>\n          <p class=\"signup-errorMessage\">{{ errors.email }}</p>\n          <input v-model=\"form.password\" @input=\"validateField('password')\" type=\"password\" placeholder=\"パスワード\" name=\"password\"><br>\n          <p class=\"signup-errorMessage\">{{ errors.password }}</p>\n          <input v-model=\"form.confirmedPassword\" @input=\"validateField('confirmedPassword')\" type=\"password\" placeholder=\"確認用パスワード\" name=\"confirmedPassword\"><br>\n          <p class=\"signup-errorMessage\">{{ errors.confirmedPassword }}</p>\n          <button type=\"submit\">新規登録</button>\n        </form>\n        <p class=\"btn-back\"><a @click=\"goToWelcomePage\">＞戻る</a></p>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { ref, watch } from 'vue';\nimport * as yup from 'yup';\nimport api from '@/axios';\nimport { useRouter } from 'vue-router';\n\nexport default {\n  setup() {\n    const router = useRouter();\n    \n    const form = ref({\n      username: '',\n      lastName: '',\n      firstName: '',\n      lastNameKana: '',\n      firstNameKana: '',\n      email: '',\n      password: '',\n      confirmedPassword: '',\n    });\n\n    const errors = ref({\n      username: '',\n      lastName: '',\n      firstName: '',\n      lastNameKana: '',\n      firstNameKana: '',\n      email: '',\n      password: '',\n      confirmedPassword: '',\n    });\n\n    const kanaPattern = /^[\\u30A1-\\u30FA\\u30FCｦ-ﾝ]+$/u;\n    const passwordPattern = /^[a-zA-Z0-9!@#$%^&*()_+{}[\\]:;<>,.?~\\\\/-]+$/;\n\n    const schema = yup.object({\n      username: yup.string().required('ユーザーネームは必須の項目です'),\n      lastName: yup.string().required('苗字は必須の項目です'),\n      firstName: yup.string().required('名前は必須の項目です'),\n      lastNameKana: yup.string().required('苗字(カナ)は必須の項目です').matches(kanaPattern, '苗字(カナ)はカタカナのみで入力して下さい'),\n      firstNameKana: yup.string().required('名前(カナ)は必須の項目です').matches(kanaPattern, '名前(カナ)はカタカナのみで入力して下さい'),\n      email: yup.string().required('メールアドレスは必須の項目です').email('メールアドレスの形式ではありません'),\n      password: yup.string().required('パスワードは必須の項目です').min(7, 'パスワードは7文字以上で入力してください').max(30, 'パスワードは30文字以下で入力してください')\n        .matches(passwordPattern, '記号を含む半角英数、数字のみ使用可能です'),\n      confirmedPassword: yup.string().required('確認用パスワードは必須の項目です').oneOf([yup.ref('password'), null], '確認用パスワードはパスワードと一致しません'),\n    });\n\n    const validateField = async (field) => {\n      try {\n        await yup.reach(schema, field).validate(form.value[field]);\n        errors.value[field] = '';\n      } catch (e) {\n        errors.value[field] = e.message;\n      }\n    };\n\n    const goToWelcomePage = () => {\n      router.push({ name: \"Welcome\" });\n    };\n\n    const onSubmit = async () => {\n      try {\n        await schema.validate(form.value, { abortEarly: false });\n        const loginData = {\n          username: form.value.username,\n          name: form.value.lastName + form.value.firstName,\n          last_name_kana: form.value.lastNameKana,\n          first_name_kana: form.value.firstNameKana,\n          email: form.value.email,\n          password: form.value.password,\n        };\n\n        api.post('/auth', loginData, { withCredentials: true })\n          .then(response => {\n            if (response.data.status === 201) {\n              alert('新規登録が完了しました');\n              router.push({ name: 'Login' });\n            } else {\n              throw new Error('登録エラーが発生しました');\n            }\n          })\n          .catch(error => {\n            console.error(error);\n            alert('登録エラーが発生しました');\n          });\n      } catch (err) {\n        err.inner.forEach(e => {\n          errors.value[e.path] = e.message;\n        });\n      }\n    };\n\n    watch(form, (newVal, oldVal) => {\n      for (let key in newVal) {\n        if (newVal[key] !== oldVal[key]) {\n          validateField(key);\n        }\n      }\n    }, { deep: true });\n\n    return {\n      form,\n      errors,\n      onSubmit,\n      goToWelcomePage,\n      validateField,\n    };\n  },\n};\n</script>\n\n<style>\n.signup-page {\n  width: 100%;\n  background-color: #228bc8;\n  font-size: 12px;\n  padding-bottom: 40px;\n}\n\n.signup-header {\n  width: 100%;\n  background-color: rgba(255, 255, 255, 0.9);\n  display: flex;\n  align-items: center;\n  padding: 30px 30px 20px 30px;\n  margin-bottom: 20px;\n}\n\n.logo {\n  font-size: 24px;\n  font-weight: bold;\n  text-decoration: none;\n  color: #333;\n  padding-left: 20px;\n  cursor: pointer;\n}\n\n.signup-container {\n  margin: 0 auto;\n  width: 400px;\n  padding: 40px;\n  background-color: #fff;\n  box-shadow: 0 0 10px 5px rgba(0, 0, 0, 0.2), 0 10px 5px 0 rgba(0, 0, 0, 0.24);\n  border-radius: 10px;\n  font-size: 16px;\n}\n\n.signup-text {\n  text-align: center;\n  margin-bottom: 20px;\n  font-size: 24px;\n  font-weight: bold;\n  color: #228bc8;\n}\n\n.signup {\n  text-align: center;\n}\n\n.signup input[type=text],\n.signup input[type=password] {\n  width: 100%;\n  padding: 10px;\n  margin-bottom: 20px;\n  background-color: rgb(0 0 0 / 30%);\n  border-radius: 4px;\n  color: #fff;\n  font-size: 16px;\n  font-weight: 400;\n}\n\n.signup-name {\n  display: flex;\n}\n\n.signup-name-kana {\n  display: flex;\n}\n\n.signup-name input:first-child, .signup-name-kana input:first-child {\n  margin-right: 10px;\n}\n\n.signup-errorMessage {\n  color: red;\n  font-size: 16px;\n  font-weight: bold;\n}\n\n.signup button {\n  width: 100%;\n  padding: 10px;\n  margin-top: 30px;\n  background-color: #228bc8;\n  border: none;\n  border-radius: 4px;\n  color: #fff;\n  font-size: 16px;\n  font-weight: 400;\n  cursor: pointer;\n}\n\n.signup button:hover {\n  opacity: 0.8;\n}\n\n.signup button:active {\n  opacity: 0.6;\n}\n\n.signup input[type=text]:focus,\n.signup input[type=password]:focus,\n.signup button:focus {\n  outline: none;\n}\n\n::-webkit-input-placeholder {\n  color: rgba(255, 255, 255, 0.6);\n}\n\n::-moz-input-placeholder {\n  color: rgba(255, 255, 255, 0.6);\n}\n\n.btn-back {\n  margin-top: 20px;\n  text-align: right;\n  font-weight: bold;\n  color: #228bc8;\n  cursor: pointer;\n}\n\n@media (max-width: 648px) {\n  .signup-container {\n    width: 300px;\n    padding: 20px 20px 100px 20px;\n  }\n}\n</style>\n","import { render } from \"./SignUpPage.vue?vue&type=template&id=9839d2fe\"\nimport script from \"./SignUpPage.vue?vue&type=script&lang=js\"\nexport * from \"./SignUpPage.vue?vue&type=script&lang=js\"\n\nimport \"./SignUpPage.vue?vue&type=style&index=0&id=9839d2fe&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["class","_createElementVNode","type","_createElementBlock","_hoisted_1","_hoisted_2","onClick","_cache","args","$setup","goToWelcomePage","_hoisted_3","_hoisted_4","_hoisted_5","_hoisted_6","onSubmit","_withModifiers","form","username","$event","onInput","validateField","placeholder","name","_hoisted_7","_hoisted_8","_toDisplayString","errors","_hoisted_9","lastName","_hoisted_10","firstName","_hoisted_11","_hoisted_12","_hoisted_13","_hoisted_14","lastNameKana","_hoisted_15","firstNameKana","_hoisted_16","_hoisted_17","_hoisted_18","email","_hoisted_19","_hoisted_20","password","_hoisted_21","_hoisted_22","confirmedPassword","_hoisted_23","_hoisted_24","_hoisted_25","_hoisted_26","setup","router","useRouter","ref","kanaPattern","passwordPattern","schema","yup","required","matches","min","max","oneOf","async","field","validate","value","e","message","push","abortEarly","loginData","last_name_kana","first_name_kana","api","post","withCredentials","then","response","data","status","Error","alert","catch","error","console","err","inner","forEach","path","watch","newVal","oldVal","key","deep","__exports__","render"],"sourceRoot":""}